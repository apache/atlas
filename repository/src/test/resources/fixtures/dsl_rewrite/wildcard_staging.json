{
    "from": 0,
    "size": 0,
    "track_total_hits": true,
    "query": {
        "function_score": {
            "query": {
                "bool": {
                    "filter": [
                        {
                            "bool": {
                                "must": [
                                    {
                                        "bool": {
                                            "should": [
                                                {
                                                    "term": {
                                                        "connectionQualifiedName": "default/snowflake/1753763487"
                                                    }
                                                },
                                                {
                                                    "wildcard": {
                                                        "qualifiedName": "*aar*"
                                                    }
                                                },
                                                {
                                                    "wildcard": {
                                                        "qualifiedName": "*gtc*"
                                                    }
                                                },
                                                {
                                                    "wildcard": {
                                                        "qualifiedName": "*1000*"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "should": [
                                    {
                                        "terms": {
                                            "__superTypeNames.keyword": [
                                                "AI",
                                                "SQL",
                                                "BI",
                                                "SaaS",
                                                "ObjectStore",
                                                "EventStore",
                                                "DataQuality",
                                                "Dbt",
                                                "API",
                                                "Airflow",
                                                "Spark",
                                                "MWAA",
                                                "GCP_Cloud_Composer",
                                                "Astronomer",
                                                "SchemaRegistry",
                                                "Matillion",
                                                "NoSQL",
                                                "MultiDimensionalDataset",
                                                "ERD",
                                                "DataModeling",
                                                "ADF",
                                                "model",
                                                "Fivetran",
                                                "App",
                                                "Custom",
                                                "SAP",
                                                "Alteryx",
                                                "Flow"
                                            ]
                                        }
                                    },
                                    {
                                        "terms": {
                                            "__typeName.keyword": [
                                                "Query",
                                                "Collection",
                                                "AtlasGlossary",
                                                "AtlasGlossaryCategory",
                                                "AtlasGlossaryTerm",
                                                "Connection",
                                                "File",
                                                "Process",
                                                "DataDomain",
                                                "DataProduct"
                                            ]
                                        }
                                    }
                                ],
                                "must_not": [
                                    {
                                        "terms": {
                                            "__typeName.keyword": [
                                                "MCIncident",
                                                "Procedure",
                                                "DbtColumnProcess",
                                                "BIProcess",
                                                "MatillionComponent",
                                                "ModelVersion",
                                                "DataQualityRule",
                                                "FlowDatasetOperation",
                                                "FlowFieldOperation",
                                                "SnowflakeTag",
                                                "DbtTag",
                                                "BigqueryTag"
                                            ]
                                        }
                                    },
                                    {
                                        "term": {
                                            "isPartial": "true"
                                        }
                                    }
                                ],
                                "minimum_should_match": 1,
                                "filter": [
                                    {
                                        "term": {
                                            "__state": "ACTIVE"
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            }
        }
    },
    "aggs": {
        "group_by_typeName": {
            "terms": {
                "field": "__typeName.keyword",
                "size": 100
            }
        }
    }
}